parameters:
  owfilepath: ''
  owtitle: ''

steps:
    # extract full binary archive
    - script: 7z x $(Pipeline.Workspace)\$(owartifactfile) *.tar
      displayName: 7-ZIP TAR ${{ parameters.owtitle }}
      condition: in(variables.owarch, variables.owarch_nt)
    - script: 7z x $(owartifactfile7z) -aoa -o${{ parameters.owfilepath }}
      displayName: 7-ZIP ${{ parameters.owtitle }}
      condition: in(variables.owarch, variables.owarch_nt)
    - task: ExtractFiles@1
      displayName: TAR ${{ parameters.owtitle }}
      inputs:
        archiveFilePatterns: $(Pipeline.Workspace)/$(owartifactfile)
        destinationFolder: ${{ parameters.owfilepath }}
        cleanDestinationFolder: false
      condition: in(variables.owarch, variables.owarch_lnx, variables.owarch_osx)
    - script: del $(owartifactfile7z)
      displayName: 7-ZIP Remove tar file
      condition: in(variables.owarch, variables.owarch_nt)
    - bash: rm -f $(Pipeline.Workspace)/$(owartifactfile)
      displayName: Remove Archive
